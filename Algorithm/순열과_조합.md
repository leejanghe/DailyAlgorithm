# 순열/조합

---

## 순열

순열은 서로 다른 n개의 물건 중에서 r개를 택하여 한 줄로 배열하는 것을 n개의 물건에서 r개 택하는 것을 순열이라고 합니다. 공식은 nPr = (공식은 n!/(n-r)!)로 표현합니다. 조합은 순서와 상관이 없다면 순열은 순서가 중요합니다.  

만약 배열 [1,2,3]이 있고 2개를 택한다하면 아래와 같이 출력이 됩니다.  
[1,2],[1,3]  
[2,1],[2,3]  
[3,1],[3,2]  

여기서 규칙은 1,2,3을 순서대로 고정 시키고 나머지 요소만으로 이뤄진 배열에서 r-1만큼 선택하여 또 순열을 구하면 됩니다(재귀)

```js
//순열 코드

const 순열 = function(n,r){
    const result = [];
    // 탈출 조건 (nP1) 은 무조건 1개 선택이여서 순서 의미가 없음
    if(r === 1) return n.map((el)=>[el]);

    n.forEach((fix, idx, origin)=>{
        // 해당하는 fix를 제외한 나머지 배열
        const rest = [...origin.slice(0,idx), ...origin.slice(idx+1)]

        // 나머지에 대해 재귀로 순열을 구한다
        const 재귀순열 = 순열(rest,r-1);

        // 돌아온 순열에 떼 놓은 값 붙이기(fix 값)
        const attached = 재귀순열.map((el)=>[fixed,...el])

        // 배열 다 붙이기
        result.push(...attached)
    })
    return result
}
```

<br />

## 조합

조합은 서로 다른 n개의 물건에서 순서를 생각하지 않고 r개를 택할 때, n개에서 r개를 택하는 조합이라고 하며 공식은 nCr = n!/(n-r)!r! 로 표현합니다. 

만약 [1,2,3,4]에서 3개의 조합을 갖춘다고 할때    
[1,2,3],[1,2,4],[1,3,4],[2,3,4] 나옵니다  

여기서 규칙은 순열과 비슷합니다. 다만 순서가 상관없습니다. [1,2,3] = [3,2,1]로 같은 취급을 합니다.

```js
//조합 코드
const 조합 = function(n,r){
    const result = [];
    // 탈출 조건 (nP1) 은 무조건 1개 선택이여서 순서 의미가 없음
    if(r === 1) return n.map((el)=>[el]);

    n.forEach((fix, idx, origin)=>{
        // 해당하는 fix를 제외한 나머지
        const rest = origin.slice(idx+1)

        // 나머지에 대해 재귀로 조합을 구한다
        const 재귀조합 = 순열(rest,r-1);

        // 돌아온 조합에 떼 놓은 값 붙이기(fix 값)
        const attached = 재귀조합.map((el)=>[fixed,...el])

        // 배열 다 붙이기
        result.push(...attached)
    })
    return result
}
```

순열은 순서가 중요하고 조합은 순서가 상관없습니다. 코드도 거의 똑같습니다. 다만 fix를 제외한 나머지 값을 처리하는 코드를 유심히 보면 되겠습니다.